<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OIC - Oh, I See!</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="专为低视力人群设计的视觉助手应用，通过拍照识别物体并语音播报 | Accessibility app designed for low vision users, identifies objects through photos and provides audio descriptions">
    <meta name="keywords" content="视觉助手,无障碍,语音播报,图像识别 | Vision Assistant, Accessibility, Audio Description, Image Recognition">
</head>
<body>
    <div class="container">
        <!-- 标题区域 -->
        <header class="header">
            <h1 class="title">O.I.C</h1>
<!--            <p class="subtitle">为低视力人群提供智能识别服务 | Providing Smart Recognition Services for Low Vision Users</p>-->
        </header>

        <!-- 主要内容区域 -->
        <main class="main-content">
            <!-- 摄像头预览区域 -->
            <div class="camera-section">
                <div class="camera-container">
                    <video id="camera-video" class="camera-video" autoplay playsinline muted></video>
                    <canvas id="capture-canvas" class="capture-canvas" style="display: none;"></canvas>
                    <div id="captured-image-container" class="captured-image-container" style="display: none;">
                        <img id="captured-image" class="captured-image" alt="拍摄的图像 | Captured Image">
                    </div>
                </div>
                
                <!-- 状态提示 -->
                <div id="status-message" class="status-message" role="status" aria-live="polite">
                    正在启动摄像头... | Starting camera...
                </div>
            </div>

            <!-- 控制按钮区域 -->
            <div class="controls-section">
                <button id="capture-btn" class="btn btn-primary" disabled aria-label="拍照识别物体 | Capture Image to Recognize Object">
                    <span class="btn-icon">📷</span>
                    <span class="btn-text">拍照识别 | Capture Image</span>
                </button>
                
                <button id="reset-btn" class="btn btn-secondary" style="display: none;" aria-label="重新拍摄 | Retake Photo">
                    <span class="btn-icon">🔄</span>
                    <span class="btn-text">重新拍摄 | Retake</span>
                </button>
            </div>

            <!-- 识别结果区域 -->
            <div id="result-section" class="result-section" style="display: none;">
                <h2 class="result-title">识别结果 | Recognition Result</h2>
                <div id="result-text" class="result-text" role="region" aria-label="识别结果内容 | Recognition Result Content"></div>
                
                <!-- 音频播放控制 -->
                <div class="audio-controls">
                    <button id="play-audio-btn" class="btn btn-audio" aria-label="播放语音 | Play Audio">
                        <span class="btn-icon">🔊</span>
                        <span class="btn-text">播放语音 | Play Audio</span>
                    </button>
                    
                    <audio id="result-audio" class="result-audio" controls style="display: none;"></audio>
                </div>
            </div>

            <!-- 加载指示器 -->
            <div id="loading-indicator" class="loading-indicator" style="display: none;" role="status" aria-label="正在处理 | Processing">
                <div class="loading-spinner"></div>
                <p class="loading-text">正在识别图像，请稍候... | Recognizing image, please wait...</p>
            </div>

            <!-- 错误提示 -->
            <div id="error-message" class="error-message" style="display: none;" role="alert" aria-live="assertive">
                <div class="error-content">
                    <span class="error-icon">⚠️</span>
                    <span id="error-text" class="error-text"></span>
                </div>
                <button id="dismiss-error-btn" class="btn btn-small" aria-label="关闭错误提示 | Dismiss Error">关闭 | Close</button>
            </div>
        </main>

        <!-- 帮助信息 -->
        <footer class="footer">
            <details class="help-section">
                <summary class="help-toggle" aria-label="显示使用帮助 | Show Usage Help">使用帮助 | Usage Help</summary>
                <div class="help-content">
                    <h3>如何使用：| How to Use：</h3>
                    <ol>
                        <li>将手机摄像头对准要识别的物体 | Point your phone camera at the object you want to recognize</li>
                        <li>点击"拍照识别"按钮 | Click the "Capture Image" button</li>
                        <li>等待系统识别并生成语音 | Wait for the system to recognize and generate audio</li>
                        <li>系统会自动播放识别结果的语音 | The system will automatically play the audio description of the recognition result</li>
                        <li>点击"重新拍摄"可以识别其他物体 | Click "Retake" to recognize other objects</li>
                    </ol>
                </div>
            </details>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>